---
# Generated by scripts/aggregate-changelogs. WARNING: Manual edits to this files will be overwritten.
changes_categories:
- Cluster apps for AWS
changes_entry:
  repository: giantswarm/cluster-aws
  url: https://github.com/giantswarm/cluster-aws/blob/master/CHANGELOG.md#0330---2023-06-07
  version: 0.33.0
  version_tag: v0.33.0
date: '2023-06-07T14:47:51'
description: Changelog entry for giantswarm/cluster-aws version 0.33.0, published
  on 07 June 2023, 14:47.
title: cluster-aws release v0.33.0
---

### Changed
**Note**: this release includes values schema changes which break compatibility with previous versions.
- Removed `connectivity.network.podCidr` and `connectivity.network.serviceCidr`. Replaced by `connectivity.network.pods.cidrBlocks` and `connectivity.network.services.cidrBlocks`.
- Remove `app.kubernetes.io/version` from common labels. They are part of hashes, but we don't want to always roll nodes just because we are deploying a new version.
- Remove `architect` templating from `Chart.yaml` file.
- Remove control plane replicas value `controlPlane.replicas`. Now it's hardcoded to 3 nodes.
- Set `r6i.xlarge` as the new default AWS instance type for the control plane and node pools.
- Added value `.metadata.servicePriority` to the schema to set the cluster's relative priority.
- Updated `cluster-shared` chart dependency to `0.6.5`
### Added
- Add JSON schema related makefile.
  - generate `values.yaml` from `values.schema.json` with `make generate-values`
  - normalize `values.schema.json` with `make normalize-schema`
  - validate that `values.schema.json` is according to requirements with `make validate-schema`
- Add full configuration values documentation.
- Add `"helm.sh/resource-policy": keep` annotation to AWSCluster,
  (AWS)MachineDeployments, (AWS)MachinePools and KubeadmControlPlane. The
  deletion of these resources has to be in order and must be handled by the
  CAPI and CAPA controllers.
