---
# Generated by scripts/aggregate-changelogs. WARNING: Manual edits to this files will be overwritten.
changes_categories:
- Cluster apps for VMware vSphere
changes_entry:
  repository: giantswarm/cluster-vsphere
  url: https://github.com/giantswarm/cluster-vsphere/blob/master/CHANGELOG.md#0510---2024-05-16
  version: 0.51.0
  version_tag: v0.51.0
date: '2024-05-16T19:31:29'
description: Changelog entry for giantswarm/cluster-vsphere version 0.51.0, published
  on 16 May 2024, 19:31.
title: cluster-vsphere release v0.51.0
---

### **Breaking change**.
<details>
<summary>How to migrate values</summary>
Using `yq`, migrate to the new values layout with the following command:
```bash
#!/bin/bash
yq eval --inplace 'with(select(.metadata != null);          .global.metadata = .metadata) |
    with(select(.clusterDescription != null);               .global.metadata.description = .clusterDescription) |
    with(select(.organization != null);                     .global.metadata.organization = .organization) |
    with(select(.clusterLabels != null);                    .global.metadata.labels = .clusterLabels) |
    with(select(.servicePriority != null);                  .global.metadata.servicePriority = .servicePriority) |
    with(select(.connectivity != null);                     .global.connectivity = .connectivity) |
    with(select(.osUsers != null);                          .global.connectivity.shell.osUsers = .osUsers) |
    with(select(.sshTrustedUserCAKeys != null);             .global.connectivity.shell.sshTrustedUserCAKeys = .sshTrustedUserCAKeys) |
    with(select(.proxy != null);                            .global.connectivity.proxy = .proxy) |
    with(select(.baseDomain != null);                       .global.connectivity.baseDomain = .baseDomain) |
    with(select(.controlPlane != null);                     .global.controlPlane = .controlPlane) |
    with(select(.oidc != null);                             .global.controlPlane.oidc = .oidc) |
    with(select(.nodePools != null);                        .global.nodePools = .nodePools) |
    with(select(.vcenter != null);                          .global.providerSpecific.vcenter = .vcenter) |
    with(select(.cluster.kubernetesVersion != null);        .internal.kubernetesVersion = .cluster.kubernetesVersion) |
    with(select(.cluster.enableEncryptionProvider != null); .internal.enableEncryptionProvider = .cluster.enableEncryptionProvider) |
    with(select(.controllerManager.featureGates != null);   .internal.controllerManager.featureGates = (.controllerManager.featureGates | split(","))) |
    with(select(.apiServer.enableAdmissionPlugins != null); .internal.apiServer.enableAdmissionPlugins = (.apiServer.enableAdmissionPlugins | split(","))) |
    with(select(.apiServer.featureGates != null);           .internal.apiServer.featureGates = (.apiServer.featureGates | split(","))) |
    with(select(.apiServer.certSANs != null);               .internal.certSANs = .apiServer.certSANs) |
    with(select(.kubectlImage != null);                     .internal.kubectlImage = .kubectlImage) |
    with(select(.nodeClasses != null);                      .global.nodeClasses = .nodeClasses) |
    del(.metadata) |
    del(.clusterDescription) |
    del(.organization) |
    del(.clusterLabels) |
    del(.servicePriority) |
    del(.connectivity) |
    del(.osUsers) |
    del(.sshTrustedUserCAKeys) |
    del(.proxy) |
    del(.baseDomain) |
    del(.controlPlane) |
    del(.oidc) |
    del(.nodePools) |
    del(.vcenter) |
    del(.cluster) |
    del(.controllerManager) |
    del(.apiServer) |
    del(.kubectlImage) |
    del(.nodeClasses)' values.yaml
```
</details>
### Changed
- Move Helm values property `.Values.metadata` to `.Values.global.metadata`.
- Move Helm values property `.Values.clusterDescription` to `.Values.global.metadata.description`.
- Move Helm values property `.Values.organization` to `.Values.global.metadata.organization`.
- Move Helm values property `.Values.clusterLabels` to `.Values.global.metadata.labels`.
- Move Helm values property `.Values.servicePriority` to `.Values.global.metadata.servicePriority`.
- Move Helm values property `.Values.connectivity` to `.Values.global.connectivity`.
- Move Helm values property `.Values.proxy` to `.Values.global.connectivity.proxy`.
- Move Helm values property `.Values.osUsers` to `.Values.global.connectivity.shell.osUsers`.
- Move Helm values property `.Values.sshTrustedUserCAKeys` to `.Values.global.connectivity.shell.sshTrustedUserCAKeys`.
- Move Helm values property `.Values.baseDomain` to `.Values.global.connectivity.baseDomain`.
- Move Helm values property `.Values.controlPlane` to `.Values.global.controlPlane`.
- Move Helm values property `.Values.oidc` to `.Values.global.controlPlane.oidc`.
- Move Helm values property `.Values.nodePools` to `.Values.global.nodePools`.
- Move Helm values property `.Values.vcenter` to `.Values.global.providerSpecific.vcenter`.
- Move Helm values property `.Values.controllerManager.featureGates` to `.Values.internal.controllerManager.featureGates` and convert from string to array.
- Move Helm values property `.Values.apiServer.enableAdmissionPlugins` to `.Values.internal.apiServer.enableAdmissionPlugins` and convert from string to array.
- Move Helm values property `.Values.apiServer.featureGates` to `.Values.internal.apiServer.featureGates` and convert from string to array.
- Move Helm values property `.Values.apiServer.certSANs` to `.Values.internal.apiServer.certSANs`.
- Move Helm values property `.Values.kubectlImage` to `.Values.internal.kubectlImage`.
- Move Helm values property `.Values.nodeClasses` to `.Values.global.nodeClasses`.
